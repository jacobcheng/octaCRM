<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <input id="id" class="hide" name="row[id]" value="{$row.id|htmlentities}" />
    <div class="col-xs-12 col-sm-8">
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Logo')}:</label>
            <div class="col-xs-12 col-sm-8">
                <div class="input-group">
                    <input id="c-logo" class="form-control" size="50" name="row[logo]" type="text" value="{$row.logo|htmlentities}" />
                    <div class="input-group-addon no-border no-padding">
                        <span><button type="button" id="plupload-logo" class="btn btn-danger plupload" data-input-id="c-logo" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-logo"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                        <span><button type="button" id="fachoose-logo" class="btn btn-primary fachoose" data-input-id="c-logo" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                    </div>
                    <span class="msg-box n-right" for="c-logo"></span>
                </div>
                <ul class="row list-inline plupload-preview" id="p-logo"></ul>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-name" data-rule="required" class="form-control" name="row[name]" type="text" value="{$row.name|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Short_name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-short_name" data-rule="required" class="form-control" name="row[short_name]" type="text" value="{$row.short_name|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Source')}:</label>
            <div class="col-xs-12 col-sm-8">

                <select  id="c-source" data-rule="required" class="form-control selectpicker" name="row[source]">
                    {foreach name="sourceList" item="vo"}
                        <option value="{$key}" {in name="key" value="$row.source"}selected{/in}>{$vo}</option>
                    {/foreach}
                </select>
                <span class="msg-box"></span>

            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Type')}:</label>
            <div class="col-xs-12 col-sm-8">

                <select  id="c-type" data-rule="required" class="form-control selectpicker" name="row[type]">
                    {foreach name="typeList" item="vo"}
                        <option value="{$key}" {in name="key" value="$row.type"}selected{/in}>{$vo}</option>
                    {/foreach}
                </select>
                <span class="msg-box"></span>

            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Star')}:</label>
            <div class="col-xs-12 col-sm-8">

                <select  id="c-star" data-rule="required" class="form-control selectpicker" name="row[star]">
                    {foreach name="starList" item="vo"}
                        <option value="{$key}" {in name="key" value="$row.star"}selected{/in}>{$vo}</option>
                    {/foreach}
                </select>
                <span class="msg-box"></span>

            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Country')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-country_code" data-rule="required" class="form-control selectpage" data-source="location/index" data-show-field="country_name" data-key-field="code" data-search-field="name,name_cn" data-and-or="or" data-order-by="name" name="row[country_code]" type="text" value="{$row.country_code|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('City')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-city_code" class="form-control selectpage" data-source="location/index" data-show-field="city_name" data-key-field="code" data-search-field="name,name_cn" data-and-or="or" data-order-by="name" name="row[city_code]" type="text" value="{$row.city_code|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Vat')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-vat" class="form-control" name="row[vat]" type="text" value="{$row.vat|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Website')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-website" class="form-control" name="row[website]" type="text" value="{$row.website|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Tel')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-tel" class="form-control" name="row[tel]" type="text" value="{$row.tel|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Fax')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-fax" class="form-control" name="row[fax]" type="text" value="{$row.fax|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contact')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-contact_id" data-rule="required" data-source="sales/contact/index" class="form-control selectpage" name="row[contact_id]" type="text" value="{$row.contact_id|htmlentities}">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Address')}:</label>
            <div class="col-xs-12 col-sm-8">
                <textarea id="c-address" class="form-control " rows="5" name="row[address]" cols="50">{$row.address|htmlentities}</textarea>
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Remark')}:</label>
            <div class="col-xs-12 col-sm-8">
                <textarea id="c-remark" class="form-control " rows="5" name="row[remark]" cols="50">{$row.remark|htmlentities}</textarea>
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Status')}:</label>
            <div class="col-xs-12 col-sm-8">

                <div class="radio">
                {foreach name="statusList" item="vo"}
                <label for="row[status]-{$key}"><input id="row[status]-{$key}" name="row[status]" type="radio" value="{$key}" {in name="key" value="$row.status"}checked{/in} /> {$vo}</label>
                {/foreach}
                </div>

            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-4">
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title">{:__('Contacts')}</h3>
            </div>
            <div class="box-body">
                <span class="msg-box" for=".box-body"></span>
                {volist name="row['allcontact']" id="vo"}
                <div class="attachment-block contactForm">
                    <div class="col-lg-12 ">
                        <div class="box-tools pull-right">
                            <button type="button" class="btn btn-box-tool delForm"><i class="fa fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <input class="form-control hidden" name="row[contact][{$i}][id]" type="text"  value="{$vo.id|htmlentities}">
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Contact Name')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control" name="row[contact][{$i}][name]" type="text" value="{$vo.name|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Appellation')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input data-rule="required" class="form-control" name="row[contact][{$i}][appellation]" type="text" value="{$vo.appellation|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Title')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control" name="row[contact][{$i}][title]" type="text" value="{$vo.title|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Email')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input data-rule="required;email" class="form-control" name="row[contact][{$i}][email]" type="text" value="{$vo.email|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Cc_email')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input data-rule="email" class="form-control" name="row[contact][{$i}][cc_email]" type="text" value="{$vo.cc_email|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Linkedin')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control" name="row[contact][{$i}][linkedin]" type="text" value="{$vo.linkedin|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Tel')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control"  name="row[contact][{$i}][tel]" type="text" value="{$vo.tel|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Mobile')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control" name="row[contact][{$i}][mobile]" type="text" value="{$vo.mobile|htmlentities}">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Birthdate')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="row[contact][{$i}][birthdate]" type="text" value="$vo.birthdate|htmlentities">
                            <span class="msg-box"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2">{:__('Remark')}:</label>
                        <div class="col-xs-12 col-sm-8">
                            <textarea class="form-control " rows="5" name="row[contact][{$i}][remark]" cols="50">{$vo.remark}</textarea>
                            <span class="msg-box"></span>
                        </div>
                    </div>
                </div>
                {/volist}
                <button id="addForm" type="button" class="btn btn-default btn-block"><span class="fa fa-plus"></span></button>
            </div>
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
<script type="text/html" id="addContactForm">
    <div class="attachment-block contactForm">
        <div class="col-lg-12 ">
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool delForm"><i class="fa fa-trash"></i>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contact Name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control" name="row[addcontact][0][name]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Appellation')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input data-rule="required" class="form-control" name="row[addcontact][0][appellation]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Title')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control" name="row[addcontact][0][title]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Email')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input data-rule="required;email;remote(sales/contact/checkdata)" class="form-control" name="row[addcontact][0][email]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Cc_email')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input data-rule="email" class="form-control" name="row[addcontact][0][cc_email]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Linkedin')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control" name="row[addcontact][0][linkedin]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Tel')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control" name="row[addcontact][0][tel]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Mobile')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control" name="row[addcontact][0][mobile]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Birthdate')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" name="row[addcontact][0][birthdate]" type="text">
                <span class="msg-box"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Remark')}:</label>
            <div class="col-xs-12 col-sm-8">
                <textarea class="form-control " rows="5" name="row[addcontact][0][remark]" cols="50"></textarea>
                <span class="msg-box"></span>
            </div>
        </div>
    </div>
</script>